#N canvas 141 22 1010 719 10;
#X obj 105 111 inlet;
#X obj 435 151 inlet;
#X text 101 86 trigger;
#X obj 105 139 sel 0;
#X obj 166 264 f \$1;
#X obj 166 289 pack 0 \$2;
#X obj 492 151 inlet;
#X obj 438 241 del \$2;
#X obj 149 445 line~;
#X obj 462 264 f \$4;
#X obj 554 151 inlet;
#X obj 616 151 inlet;
#X obj 689 150 inlet;
#X msg 105 170 stop;
#X obj 672 306 pack 0 \$5;
#X text 435 129 level;
#X obj 448 598 outlet~;
#X text 102 378 and pack with;
#X text 103 398 attack time;
#X text 31 126 if zero;
#X text 32 143 release;
#X text 12 160 and cancel;
#X text 43 177 decay;
#X text 284 272 on attack \, set a;
#X text 278 305 recall sustain value;
#X text 395 385 pack with decay time;
#X text 665 332 on release ramp;
#X text 666 349 back to zero;
#X text 47 567 Objects such as "f" and "pack" can be given dollar sign
arguments to initialize their contents from adsr's creation arguments.
Inlets are supplied to change them on the fly.;
#X text 13 2 ADSR ENVELOPE;
#X text 488 129 attack;
#X text 555 128 decay;
#X text 609 129 sustain;
#X text 686 129 release;
#X text 202 71 attack;
#X obj 194 122 t b b;
#X msg 128 290 0;
#X text 20 273 optionally;
#X text 10 291 bash to zero;
#X text 25 246 ATTACK:;
#X text 49 477 When you send this patch a positive trigger it schedules
a line~ to do an attack and decay \, and if zero \, it starts the release
ramp.;
#X text 45 629 Updated for Pd version 0.37;
#X text 265 89 test for negative trigger;
#X text 242 113 if so \, zero;
#X text 243 129 the output;
#X text 294 165 in any case;
#X text 383 362 multiply by peak level;
#X text 280 286 delay for sustain;
#X text 155 340 ... then;
#X text 103 359 recall peak level;
#X text 439 113 peak;
#X text 297 149 ... do this;
#X text 47 529 Negative triggers cause the output to jump to zero and
then attack (instead of attacking from the current location).;
#X text 570 577 adopted from Pd docs;
#X text 627 592 part of dlib;
#X text 376 658 released under the GNU General Public License v3+;
#X text 509 619 copyright damian stewart 2008;
#X text 473 633 damian@frey.co.nz | www.frey.co.nz;
#X obj 204 92 moses 0;
#X obj 535 548 outlet;
#X text 583 546 for switch~;
#X obj 689 413 del \$5;
#X msg 690 384 bang;
#X msg 573 512 0;
#X msg 528 514 1;
#X obj 521 384 line~;
#X msg 522 363 1 \, 0 \$1;
#X obj 543 427 d-1-;
#X obj 522 314 t b a;
#X obj 447 530 +~;
#X obj 522 339 f \$3;
#X obj 522 447 *~ 1;
#X obj 522 472 *~ 1;
#X obj 852 478 line;
#X obj 852 542 * 1;
#X obj 852 564 * 1;
#X obj 867 521 d-1-;
#X obj 840 588 t b a;
#X obj 840 612 + 0;
#X obj 840 664 outlet;
#X text 846 461 external line;
#X obj 832 437 spigot \$6;
#X obj 776 582 line;
#X obj 776 551 spigot \$6;
#X text 820 397 \$6==1 to enable line output;
#X text 208 1 Arguments: level \, attack time \, decay time \, sustain
level \, release time. A \, D \, and R are in msec and S is in the
same units as level. This patch is used as an abstraction in various
examples.;
#X obj 461 289 * 1;
#X obj 250 155 t b;
#X connect 0 0 3 0;
#X connect 1 0 4 1;
#X connect 1 0 72 1;
#X connect 1 0 75 1;
#X connect 3 0 13 0;
#X connect 3 0 14 0;
#X connect 3 1 58 0;
#X connect 4 0 5 0;
#X connect 4 0 75 1;
#X connect 4 0 72 1;
#X connect 5 0 8 0;
#X connect 5 0 64 0;
#X connect 5 0 83 0;
#X connect 6 0 5 1;
#X connect 6 0 7 1;
#X connect 7 0 9 0;
#X connect 8 0 69 0;
#X connect 9 0 86 0;
#X connect 10 0 70 1;
#X connect 11 0 9 1;
#X connect 12 0 14 1;
#X connect 12 0 61 1;
#X connect 13 0 7 0;
#X connect 14 0 8 0;
#X connect 14 0 62 0;
#X connect 14 0 83 0;
#X connect 35 0 87 0;
#X connect 35 1 36 0;
#X connect 36 0 8 0;
#X connect 36 0 63 0;
#X connect 36 0 83 0;
#X connect 58 0 35 0;
#X connect 58 1 87 0;
#X connect 61 0 63 0;
#X connect 62 0 61 0;
#X connect 63 0 59 0;
#X connect 64 0 59 0;
#X connect 65 0 71 0;
#X connect 66 0 65 0;
#X connect 66 0 81 0;
#X connect 67 0 71 1;
#X connect 68 0 70 0;
#X connect 68 1 67 0;
#X connect 68 1 76 0;
#X connect 69 0 16 0;
#X connect 70 0 66 0;
#X connect 71 0 72 0;
#X connect 72 0 69 1;
#X connect 73 0 74 0;
#X connect 74 0 75 0;
#X connect 75 0 77 0;
#X connect 76 0 74 1;
#X connect 77 0 78 0;
#X connect 77 1 78 1;
#X connect 78 0 79 0;
#X connect 81 0 73 0;
#X connect 82 0 78 0;
#X connect 83 0 82 0;
#X connect 86 0 68 0;
#X connect 87 0 4 0;
#X connect 87 0 7 0;
